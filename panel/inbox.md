---
id: inbox
title: پیام‌ها
layout: panel
permalink: panel/inbox.html
prev: users.html
next: send.html
---

تب پیام‌ها به طور کلی برای **مدیریت پیام‌رسانی** است. شما می‌توانید از راه‌های متنوعی برای کاربرانتان کمپین ارسال کنید. پس از آن، جزئیات کمپین‌های ارسال شده را کنترل کنید و لحظه‌ای ببینید کمپین‌هایتان به چه تعدادی از کاربران و با چه روندی ارسال شده است. 

<Br>

>` نکته:` عددی که روی تب پیام‌ها در منوی پنل مشاهده می‌کنید نشان دهنده **پیام‌های امروز** شما است. همچنین در ابتدای صفحه شما می‌توانید با استفاده از **شناسه کاربر** و **شناسه رهگیری پیام**، کمپین یا پیام خود را جستجو کنید. 

<Br>

### کمپین‌ها
---

در ابتدا می‌توانید با کلیک روی **کمپین جدید** وارد صفحه طراحی کمپین شوید و از آن‌ جا کمپین ارسال کنید. علاوه بر آن، می‌توانید با **رویداد جدید** داده بین سرور و کلاینت انتقال دهید.

پس از آن، لیست کمپین‌های شما به ترتیب ارسال و با جزئیات **نوع پیام** (سیاست ارسال)، **زمان دقیق** درخواست ارسال، **کانال‌های** گیرنده، **وضعیت تحویل** پیام (نوار سبز تحویل و زرد به معنای در انتظار تحویل است) و **متن** پیام قابل مشاهده است.

![عکس مربوطه](http://uupload.ir/files/thtt_inbox-campaigns1.png)

<Br>

#### کمپین جدید

در این قسمت می‌توانید کمپین طراحی کنید و برای کاربرانتان ارسال کنید. نحوه طراحی کمپین به طور کامل در صفحه [ایجاد کمپین](/panel/send.html) توضیح داده شده است.

#### رویداد جدید 

رویدادها می‌توانند هر گونه **انتقال داده بین سرور و کلاینت** باشند. برای مثال، فرض کنید شما در اپلیکیشن درخواست تاکسی می‌خواهید سفر خود را با دوستانتان به اشتراک بگذارید. برای این منظور می‌توانید موقعیت مکانی و وضعیت سفر خود را برای کسانی که روی آن رویداد عضویت دارند، ارسال کنید تا به صورت آنی‌ (Real-Time) از وضعیت سفر شما مطلع شوند. یا مثلا یک اپلیکیشن نمایش قیمت‌ ارز به صورت لحظه‌ای دارید و می‌خواهید قیمت‌ها را به محض تغییر آن‌ها عوض کنید. 

در این قسمت شما می‌توانید با وارد کردن **نام** رویدادی که کاربران خود را روی آن **عضو** کرده‌اید، داده‌ای را ارسال کنید. همینطور می‌توانید شناسه دستگاهی را که با آن ارسال می‌کنید مشخص کنید.  

![عکس مربوطه](http://uupload.ir/files/4q95_sendevents.png)

<Br>

#### جزئیات کمپین‌ها

با ورود به هر یک از کمپین‌های ارسالی خود می‌توانید تمام جزئیات آن کمپین را مشاهده و ارزیابی کنید. این جزئیات شامل اطلاعات عمومی کمپین مثل **تاریخ و زمان ارسال، گیرنده، کانال، تعداد گیرندگان، شناسه رهگیری و IP ارسال کننده**. قسمت **محتوا** که شامل **متن پیام و نوتیفیکیشن** مربوط به آن است. قسمت **صندوق پیام**، **وضعیت تحویل پیام** را بین سه حالت **تحویل شده، در انتظار و رد شده** مشخص می‌کند. قسمت **نوتیفیکیشن** وضعیت ارسال **نوتیفیکیشن** به کاربر را بین حالت‌های **ارسال موفق، غیر قابل ارسال، حذف شده و خطا** مشخص می‌کند. قسمت **تحویل روزانه**، **بازخورد نوتیفیکیشن** نموداری از روند تحویل در زمان‌های مختلف پس از ارسال را نمایش می‌دهد.

![عکس مربوطه](http://uupload.ir/files/4aqb_campaign-details.png)

<Br><Br>

### کمپین‌های خودکار
---

در ابتدا می‌توانید با کلیک روی **کمپین جدید** وارد صفحه طراحی کمپین شوید و از آن‌ جا کمپین خودکار را فعال کنید. 

پس از آن، آمار تحویل آن‌ها را به ترتیب ارسال با جزئیات مشاهده کنید و همچنین هر کدام از آن‌ها را **غیر فعال** نمایید. در این لیست می‌توانید  نام کمپین، **زمان ایجاد**،‌ گیرنده،‌ **وضعیت تحویل** و متن پیام را مشاهده کنید. 

![عکس مربوطه](http://uupload.ir/files/p987_automated-push.png)

<Br>

#### کمپین جدید

در این قسمت می‌توانید کمپین طراحی کنید و برای کاربرانتان ارسال کنید. نحوه طراحی کمپین به طور کامل در صفحه [ایجاد کمپین](/panel/send.html) توضیح داده شده است.

#### جزئیات کمپین‌های خودکار  

پس از فعال کردن کمپین خودکار، می‌توانید جزئیات آن را مانند گیرندگان، تحویل‌های پیام و نوتیفیکیشن، رویداد شروع کننده و متوقف کننده (در صورت تعیین آن) و ... مشاهده کنید.  

![عکس مربوطه](http://uupload.ir/files/mb5l_autopush-details.png)

<Br><Br>

### کمپین‌های خودکار مکانی
---

در ابتدا می‌توانید با کلیک روی **کمپین خودکار مکانی جدید** وارد صفحه طراحی کمپین شوید و از آن‌ جا کمپین خودکار را فعال کنید. 

پس از آن، آمار تحویل آن‌ها را به ترتیب ارسال با جزئیات مشاهده کنید و همچنین هر کدام از آن‌ها را **غیر فعال** نمایید. در این لیست می‌توانید  نام کمپین، **زمان ایجاد**،‌ گیرنده،‌ **وضعیت تحویل** و متن پیام را مشاهده کنید. 

![عکس مربوطه](http://uupload.ir/files/e14q_geo-fence.png)

#### کمپین خودکار مکانی جدید 

یکی دیگر از قابلیت‌های جالب توجه چابک، **پوش خودکار مکانی** است. این قابلیت به شما امکان می‌دهد تا پوشی را با تعیین یک **محدوده مکانی خاصی** کار بگذارید تا به صورت خودکار با **وارد و خارج شدن** کاربر به آن محدوده، پوش فرستاده شود. شما می‌توانید پس از پر کردن جزئیات پیام و تعیین محدوده هر کدام از پوش‌هایتان را ذخیره کنید و وضعیت آن‌ها را مشاهده نمایید.

![عکس مربوطه](http://uupload.ir/files/mpl6_new-geofence.png)

#### جزئیات کمپین خودکار مکانی

پس از فعال کردن پوش‌ خودکار مکانی، می‌توانید اولا آن را **ویرایش** کنید، دوما آمار پوش‌هایی که ارسال شده است را مشاهده کنید.

![عکس مربوطه](http://uupload.ir/files/k96r_geo-fence-details.png)

<Br><Br>

### پیام‌ها
---

در ابتدا می‌توانید با کلیک روی **کمپین جدید** وارد صفحه طراحی کمپین شوید و از آن‌ جا کمپین ارسال کنید. 

پس از آن، این قسمت پیام‌های ارسالی شما را به **هر کاربر** به صورت جدا نمایش می‌دهد. از طریق لیست پیام‌ها می‌توانید **وضعیت پیام و نوتیفیکیشن، زمان ارسال و تحویل، کاربر (شناسه کاربر) و متن پیام** را مشاهده کنید.

![عکس مربوطه](http://uupload.ir/files/i7qb_yi1_z1nl_inbox-list.png)

<Br>

#### پیام جدید

در این قسمت می‌توانید کمپین طراحی کنید و برای کاربرانتان ارسال کنید. نحوه طراحی کمپین به طور کامل در صفحه [ایجاد کمپین](/panel/send.html) توضیح داده شده است.


#### آمار پیام‌ها

با ورود به هر یک از پیام‌ها می‌توانید جزئیات پیامتان را در ۴ باکس مشاهده کنید. باکس جزئیات پیام **تاریخ و زمان ارسال، گیرنده، کانال و شناسه رهگیری** را نشان می‌دهد. باکس **محتوای** پیام که شامل **متن پیام و اعلان** مربوط به آن است. باکس‌های **اعلان‌ها و تحویل پیام** هم آمار تحویل نوتیفیکیشن و پیام را به شما انتقال می‌دهند.

![عکس مربوطه](http://uupload.ir/files/dgi_x9bn_inbox-analytics.png)

<Br><Br>

#### نمادها
---

در بخش پیام‌ها، نمادهایی برای نمایش وضعیت تحویل آن‌ها به کار برده شده‌اند. برای اطلاع از معانی هریک از نمادها به تصویر و متن زیر دقت نمایید.

- نمادهای کمپین:

![عکس مربوطه](http://uupload.ir/files/k4fg_campaigns.png)

<Br>

۱- به طور کلی نماد سمت راست در نوع کمپین نشان دهنده **زمان ارسال** است. زمان ارسال **هم‌اکنون** انتخاب شده است.

۲- به طور کلی نماد سمت چپ در نوع کمپین نشان دهنده **سیاست ارسال** است. پیام از طریق **پوش‌نوتیفیکیشن** ارسال شده است.

۳- پیام **زمان‌بندی شده** است.

۴- پیام از طریق **صندوق پیام جابک** ارسال شده است.

۶- مخاطب پیام، **یک کاربر** است.

- نمادهای پیام:

![عکس مربوطه](http://uupload.ir/files/kpur_message-signs.png)

<Br>

۱- **پیام چابک** با موفقیت ارسال شده است.

۲- **نوتیفیکیشن آی‌اواس** با موفقیت ارسال شده است.

۳-  پیام **در انتظار** (در اینجا برای باز شدن اپ) ارسال است.

۴- **نوتیفیکیشن اندروید** با موفقیت ارسال شده است.

۵- **پیام زنده** ( برای پیام زنده گزارش وضعیت انجام نمی‌شود) است.

۶- **خطا در ارسال پیام** 

۷-  **وب‌پوش** با موفقیت ارسال شده است.

۸- اپ باز بوده بنابراین پوش‌نوتیفیکیشن ارسال نشده است.

#### خطاها

گاهی ممکن است در ارسال پیام با **خطا** مواجه شوید. هر یک از خطاها گویای مشکل خاصی هستند که شما برای ارسال موفق باید آن‌ها را برطرف کنید. برای آشنایی با معانی خطاهای ارسال پیام در پنل، قسمت زیر را مطالعه کنید:

![عکس مربوطه](http://uupload.ir/files/c8po_e8z3_devicenotfound.png)

<Br>

این خطاها برای نوتیفیکیشن در **جزئیات** هر پیام قابل مشاهده‌اند.

<Br>

![عکس مربوطه](http://uupload.ir/files/in0d_mismatchsenderid.png)

<Br>

##### جدول خطاها

برای آشنایی و رفع خطاهای ارسال پیام، جدول زیر را مشاهده کنید:

|              خطا              |                                                               موضوع|                                                                                                                                          توضیح |
| :----------------------------------------------------------------: | -----------------------------------------------------------------: | ---------------------------------------------------------------------------------------------------------------------------------------------: |
|     **Device not found**      |                                           عدم وجود دستگاه مورد نظر | از ثبت شدن کاربر در چابک و اضافه شدن او در مشترکین پنل اطمینان یابید. همینطور صحت شناسه کاربری (`userId`) مخاطب را در ارسال پیام بررسی کنید. |
|  **Subscription not found**   |                                           عدم عضویت کاربر در کانال |                                                                                          از عضو بودن مخاطب پیام در کانال ارسالی اطمینان یابید. |
|          **INVALID**          | عدم تطابق تنظیمات پوش‌نوتفیکیشن APN یا GCM/FCM با تنظیمات اپلیکیشن |                                                                                                                         برای اندروید و آی‌اواس |
|  **DeviceTokenNotForTopic**   |                                         عدم تطابق توکن با شناسه اپ |                                                                                                                                  مخصوص آی‌اواس |
|     **MismatchSenderId**      |                                      عدم تطابق `senderId` اپ و پنل   |                                                                                                                                  مخصوص اندروید |
|           **GONE**            |                                            حذف اپلیکیشن توسط کاربر |                                                                                                                                             \- |
|   **Device_Unregistered**    |                                            حذف اپلیکیشن توسط کاربر |                                                                                                                                             \- |
|      **BadDeviceToken**       |          نامعتبر بودن توکن دستگاه مورد نظر یا استفاده از Simulator |       از توکن مورد نظر و تطابق آن با محیط (sandbox یا production) اطمینان یابید. همچنین به طور کلی پوش‌ روی Simulator آی‌او‌اس دریافت نمی‌شود. |
|         **BadTopic**          |                               نامعتبر بودن شناسه اپ (`bundleId`) |                                                                                                                                             \- |
|      **TopicDisallowed**      |                    امکان پوش روی شناسه اپلیکیشن مورد نظر مجاز نیست |                                                                                                                                             \- |
|      **BadCertificate**       |                                             نامعتبر بودن گواهی اپل |                                                              از گواهی که در تنظیمات ارسال نوتیفیکیشن سرور اپل (APNs) قرار دادید اطمینان یابید. |
| **BadCertificateEnvironment** |                عدم تطابق گواهی اپل با محیط (sandbox یا production) |                                                                                                                                             \- |
|   **ExpiredProviderToken**    |                                                     منقضی شدن توکن |                                                                       در صورتی که از روش PEM استفاده کردید، توکن شما پس از یکسال منقضی می‌شود. |
